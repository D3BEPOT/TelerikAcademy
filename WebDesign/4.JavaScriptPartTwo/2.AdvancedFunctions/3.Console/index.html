<script>
;(function() {
    'use strict';

    var console = (function() {
        var oldConsole = window.console

        function _format(str /*, opt_args */) {
            var selfArguments = arguments

            return str.replace(/\{(\d+)\}/g, function(match, p1) {
                return selfArguments[+p1 + 1]
            })
        }

        function _write(methodName, args) {
            return oldConsole[methodName](_format.apply(null, args))
        }

        var api =
            { writeLine: function(line /*, opt_args */) {
                return _write('log', arguments)
            }

            , writeError: function(line /*, opt_args */) {
                return _write('error', arguments)
            }

            , writeWarning: function(line /*, opt_args */) {
                return _write('warn', arguments)
            }
        }

        return api
    }())

    console.writeLine('test {0} {1}', 123, 'Pesho')
    console.writeError('test {0}', 123)
    console.writeWarning('test {0}', 123)
}())
</script>
